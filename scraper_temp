import requests
from furl import furl
from bs4 import BeautifulSoup

base_url = "https://www.riotgames.com/en/work-with-us"

# Send a GET request to the URL
response = requests.get(base_url)

# -------------------------------------
class JobDetails:
    def __init__(self, title, url, location):
        self.title = title
        self.url = url
        self.location = location

# -------------------------------------
class JobScraper:
    def __init__(self):
        scrapers = []

    def getJobs(scraper):
        return
    
class RiotGamesJobScraper(JobScraper):
    def __init__(self):
        base_url = 
        job_elements = 


# -------------------------------------
def getJobDetails(job_element):
        
    # Find the job URL -> (elements with class "js-job-url")
    job_parent_element = job_element.find("a", class_="js-job-url")
    job_url = job_parent_element.get("href")

    temp_contents = job_parent_element.contents

    # Find the job title -> (elements with class "job-row__col--primary")
    job_title = job_element.find(class_="job-row__col--primary").text

    # Find the job location 
    job_location = job_parent_element.contents[3].text

    # full URL
    job_url_full = ""
    host = furl(f'{base_url}').host
    scheme = furl(f'{base_url}').scheme
    if furl(job_url).path.isabsolute:
        job_url_full = scheme + "://" + host + job_url
    else: 
        job_url_full = base_url + job_url

    return JobDetails(job_title, job_url_full, job_location)


# Check if the request was successful (status code 200)
if response.status_code == 200:
    # Parse the HTML content of the page
    soup = BeautifulSoup(response.text, 'html.parser')

    # Find elements with class "job-row job-row--body"
    job_elements = soup.find_all(class_="job-row job-row--body")

    # Print the text content of each matching element
    for job_element in job_elements:

        # return job here
        job_details = getJobDetails(job_element)

        print(f"<-- {job_details.title} -->")
        print(f"LOCATION-> {job_details.location}")
        print(f"URL-> {job_details.url}")
else:
    print(f"Failed to retrieve the page. Status code: {response.status_code}")